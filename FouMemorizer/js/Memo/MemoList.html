<div class="row" ng-controller="MemoController">
    <div class="col-md-12" ng-show="!isLoggedIn()">
        Vous devez être connecter pour voir et ajouter des mémos
    </div>

    <div class="col-md-12" ng-show="isLoggedIn()">
        <div class="row">
            <div class="col-md-12 text-right">
                <button class="btn btn-success marginBottom" data-toggle="modal" data-target="#modalAddMemo">
                    Ajouter
                </button>
            </div>
        </div>

        <div ng-show="serverError" class="serverError">
            Impossible de contacter le serveur. Veuillez réessayer plus tard.
        </div>

        <div class="panel panel-primary" ng-repeat="memo in memos">
            <div class="panel-heading">
                {{memo.Title}}
                <button type="button" class="close" data-dismiss="modal" ng-click="deleteMemo(memo)"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="panel-body" style="white-space:pre-line">{{memo.Content}}</div>
            <div class="panel-footer">
                {{memo.CreationDate}}
            </div>
        </div>
    </div>
    <div class="modal fade" id="modalAddMemo" tabindex="-1">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Ajouter un mémo</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="memoTitle">
                            Titre
                        </label>
                        <input type="text" ng-model="newMemo.Title" class="form-control" id="memoTitle" />
                    </div>
                    <div class="form-group">
                        <label for="memoContent">
                            Contenu
                        </label>
                        <textarea ng-model="newMemo.Content" class="form-control" id="memoContent"></textarea>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-success" ng-click="addMemo(newMemo)">Ajouter</button>
                </div>
            </div>
        </div>
    </div>
</div>
